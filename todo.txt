warnings = 174
lines prod = 9514
lines test = 3939
test coverage =
              main     test
instructions  66.0%    88.7%
branches      44.5%    77.5%
lines         65.6%    94.0%
methods       53.0%    97.2%


ajouter la vérification des <FEED>s


==== potentially after merge =====

gestion des podcasts Quanta Magazine

voir gestion des redirections infinies de
https://www.washingtonpost.com/health/amid-threats-and-political-pushback-public-health-officials-leaving-posts/2020/06/22/6075f7a2-b0cf-11ea-856d-5054296735e5_story.html

on peut gérer ces cas
Title = "Springer"
URL = https://link.springer.com/
Expected status = OK
Effective HTTP code = 302 Found
Effective HTTP code of last redirection = 200 OK
Redirection chain = https://link.springer.com/ → https://idp.springer.com/authorize?redirect_uri=https://link.springer.com/&client_id=springerlink&response_type=cookie → https://idp.springer.com/transit?redirect_uri=https%3A%2F%2Flink.springer.com%2F&code=563545a8-7caf-448e-9b4e-1ec566f4754c → https://link.springer.com/
Redirection matcher = redirection ending in success (last URL should be used)
Redirection matcher expected statuses = 
Look for article = https://www.google.com/search?q=%22Springer%22
en ignorant lorsque la chaîne de redirection ramène au point de départ
je crois que c'est aussi le cas de twitter

gérer
https://www.youtube.com/watch?v=b3cTYn6_2sY
language is "en" but this one is unexpected, the expected languages are: fr
https://www.youtube.com/watch?v=laty3vXKRek
language is "ko" but this one is unexpected, the expected languages are: en

gérer
java.lang.UnsupportedOperationException: https://content.time.com/time/world/article/0,8599,2050979,00.html|504→
    at fr.mazure.homepagemanager.data.linkchecker.linkstatusanalyzer.WellKnownRedirections.getMatch(WellKnownRedirections.java:151)
    at fr.mazure.homepagemanager.data.linkchecker.LinkStatusAnalyzer.getPossibleStatuses(LinkStatusAnalyzer.java:34)
    at fr.mazure.homepagemanager.data.linkchecker.LinkStatusAnalyzer.doesEffectiveDataMatchesExpectedData(LinkStatusAnalyzer.java:26)
    at fr.mazure.homepagemanager.data.linkchecker.LinkCheckRunner.writeOutputFile(LinkCheckRunner.java:352)
    at fr.mazure.homepagemanager.data.linkchecker.LinkCheckRunner.handleLinkData(LinkCheckRunner.java:327)
    at fr.mazure.homepagemanager.data.internet.SynchronousSiteDataRetriever.retrieveInternal(SynchronousSiteDataRetriever.java:144)
    at fr.mazure.homepagemanager.data.internet.SynchronousSiteDataRetriever.retrieve(SynchronousSiteDataRetriever.java:77)
    at fr.mazure.homepagemanager.data.internet.AsynchronousSiteDataRetriever.lambda$0(AsynchronousSiteDataRetriever.java:34)
    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
    at java.base/java.lang.Thread.run(Thread.java:1589)

gérer
Title = "YouTube"
URL = https://www.youtube.com/c/ReportPortal
Expected status = OK
Effective HTTP code = 302 Found
Effective HTTP code of last redirection = 200 OK
Redirection chain = https://www.youtube.com/c/ReportPortal → https://consent.youtube.com/m?continue=https%3A%2F%2Fwww.youtube.com%2Fc%2FReportPortal%3Fcbrd%3D1&gl=FR&m=0&pc=yt&cm=2&hl=en&src=1 → https://consent.youtube.com/ml?continue=https://www.youtube.com/c/ReportPortal?cbrd%3D1&gl=FR&hl=en&cm=2&pc=yt&src=1
Redirection matcher = redirection ending in success (last URL should be used)
Redirection matcher expected statuses = 
Look for article = https://www.google.com/search?q=%22YouTube%22

crash sur URL tps://lekitblob.fr/en/blob-main-page (il manque les deux premier caractères)

tout régénerer → il ne doit y avoir aucun crash


==== after merge =====

gérer sur perso/main.xml
line 0: the local link "../content/map.html?page=links/life.html" has an invalid value
line 0: the local link "../content/map.html?page=notes/eclipse.html" has an invalid value
line 0: the local link "../content/map.html?page=bouffe/095.htm" has an invalid value
line 0: the local link "../content/content.html?sort=author" has an invalid value


support de twitter : requête qui contient l'information
GET https://twitter.com/i/api/graphql/SAMkL5y_N9pmahSw8yy6gw/UserByScreenName?variables={"screen_name":"gitlabstatus","withSafetyModeUserFields":true}&features={"hidden_profile_likes_enabled":false,"hidden_profile_subscriptions_enabled":true,"responsive_web_graphql_exclude_directive_enabled":true,"verified_phone_label_enabled":false,"subscriptions_verification_info_is_identity_verified_enabled":false,"subscriptions_verification_info_verified_since_enabled":true,"highlights_tweets_tab_ui_enabled":true,"creator_subscriptions_tweet_preview_api_enabled":true,"responsive_web_graphql_skip_user_profile_image_extensions_enabled":false,"responsive_web_graphql_timeline_navigation_enabled":true}&fieldToggles={"withAuxiliaryUserLabels":false}
l'information est dans data>user>result>legacy>description

nettoyer links/chrome.xml

réparer testSimultaneousRetrieval

chaque redirection matcher recompile la chaine de redirections, ce n'est pas performant
en plus cela est recalculé plusieurs fois dans LinkCheckRunner.isDataExpected

détecter les articles dont le commentaire contient subtitle, mais qui n'ont pas de subtitle

filtrer les redirections parasites (ibm, onlamp…)

si le programme passe minuit, la vérification de la date de la page croit toujours que nous sommes la veille

nettoyer links/test.xml

Title = "ChatGPT"
URL = https://chat.openai.com
Expected status = 
Effective error = "Failed to get input stream: java.io.IOException: Server returned HTTP response code: 403 for URL: https://chat.openai.com"
Effective HTTP code = 403 Forbidden
Look for article = https://www.google.com/search?q=%22ChatGPT%22

Title = "How ChatGPT Hijacks Democracy"
URL = https://www.nytimes.com/2023/01/15/opinion/ai-chatgpt-lobbying-democracy.html
Expected status = 
Effective error = "Failed to get input stream: java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.nytimes.com/2023/01/15/opinion/ai-chatgpt-lobbying-democracy.html"
Effective HTTP code = 403 Forbidden
Look for article = https://www.google.com/search?q=%22How+ChatGPT+Hijacks+Democracy%22

fix height of HTML table cells
→ I believe it does not work when we change the text of the cell
→ analyse the differents height, the current cut 'n paste of StachOverflow, doing a max of five heights, is stupid

scrolling with the mouse does not work above the HTML column

gérer les faux sous-titres tels que https://stackoverflow.blog/2017/06/15/developers-use-spaces-make-money-use-tabs/

possible next quick fixes
- space/casing problem

le title récupéré n'est pas bon pour https://stackoverflow.blog/2021/07/14/getting-started-with-python/
https://stackoverflow.blog/2021/03/15/getting-started-with-rust/
title "Getting started with … Rust" is not equal to the real title "Getting started with ... Rust"

les CODEROUTINE sont écrits trop bas dans le HTML généré

dans la table, on ne devrait afficher que le nom des fichiers à partir de la racine de la homepage

corriger
janv. 28, 2023 7:22:00 AM com.sun.javafx.application.PlatformImpl startup
WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @795df74'
voir https://stackoverflow.com/questions/67854139/javafx-warning-unsupported-javafx-configuration-classes-were-loaded-from-unna

le process continue de tourner

upgrader google-api-services-youtube

Homepage Taper esc devrait fermer la recherche

ne pas tout reconstruire à partir du moment où un seul des fichiers résultats n'est plus à jour

mettre en place https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details

data.linkchecker.ContentParserException: Failed to check data of "https://developer.ibm.com/articles/wa-ecmascript6-neward-p1/"

spin off de la page
- dev tools
mettre IDE en dessous de dev tools

nettoyer notes/csharp.xml

voir comment assurer que testdata/css/schema.xsd est à jour (tester que c'est le même que dans mazure.fr ?)

gérer
 tag = "COMMENT" value = "Cocktail Games at Berlin for the Spiel des Jahres, 13 Mots, Washington Z.C., Cache Ton Cash, Dinosaur Island - Rawr 'n Write, Ticket to Ride - San Fransisco, the games at Place de la République, and Le Grenier Ludique." violation = "space is missing after punctuation" detail = ""Cocktail Games at Berlin for the Spiel des Jahres, 13 Mots, Washington Z.C., Cache Ton Cash, Dinosaur Island - Rawr 'n Write, Ticket to Ride - San Fransisco, the games at Place de la République, and Le Grenier Ludique." is missing a space after punctuation"

- https://blogs.oracle.com/javamagazine/java-lists-view-unmodifiable-immutable
The expected publication date 2022-06-27 is not equal to the effective date 2022-09-13
- https://blogs.oracle.com/javamagazine/java-module-definition-export-packages
subtitle "How do you provide access to a module’s classes to code outside that module?" should not be present


check that Baeldung article should have no publication date
the same for GitLab blog and probably other ones
the best is probably to define a white list of the few having a publication date
(and document this creation/publication date somewhere)
on the other side, IBM must have a creation date

cacher les requêtes à Oracle, elles sont trop lentes

ajouter support de https://blogs.oracle.com/java/post/faster-and-easier-use-and-redistribution-of-java-se

les podcasts de quanta magazine devraient être considérés comme des MP3, pas comme des HTML

modifier la gestion  de DeepSkyVideo

éviter les erreurs sur les wellknown authors

nettoyer
- abbreven.xml
- abbrevfr.xml
- chrome.xml
- links/firefox.xml et autres pages de browser

ajouter support de https://about.gitlab.com/releases/2022/01/22/gitlab-14-7-released/

les tests ne devraient pas hardcoder H:

détecter la présence du givenname sur une page

détecter les <BR/> dans un comment
Flaky tests must be fixed, some causes why tests are randomly failing
The author suggests a five steps process to manage the technical debt:
Some design patterns:<BR/>

vérifier l'ordre des attributs XML

appliquer https://www.quora.com/Where-does-a-nickname-go-when-writing-a-persons-full-name
vérifier le bon type d'apostrophe pour person's object
mettre GIVENNAME entre double quote côté JS

von neumman

comment gérer les changements de nom Barb Palser -> Barb Smith

- lever une alerte si un lien est zombie mais que titre ou le sous-titre est encore présents

- regarder les problèmes de titres tels que
https://martinfowler.com/articles/agileOffshore.html
https://martinfowler.com/bliki/UseCasesAndStories.html

- vérifier titre et sous-titres dans PDF
à tester sur links/javascrp.xml

- gérer les newlines dans les titres pex http://hesketh.com/publications/inclusive_web_design_for_the_future/

- mettre des tooltips sur les symboles de KEY

- perso/weblog.htm n'est plus référencé

- vérifier que tous mes fichiers (sauf *.html) sont référencés

- implémenter un système générique de cache

- implémenter le cache pour Twitter

- ranger les fichiers
design.xml
coding.xml

- mettre un test unitaire pour vérifier que tous les ElementTypes apparaissent quelque part

- trier par défaut la liste des problèmes sur la date de dernière modification

- mauvaise détection de langue :
http://wiki.c2.com/?AbcMetric
-- fr au lieu de en
https://groups.google.com/forum/#!forum/clean-code-discussion
https://root.cern.ch/TaligentDocs/TaligentOnline/DocumentRoot/1.0/Home/index.html

- faire un prefetch de la map quand on affiche la page d'accueil

- le contrôle
https://www.youtube.com/watch?v=TSnsHW6DS6s
YouTube link with no creation date
est incorrect ?
il est normal de pouvoir avoir uniquement une date de publication ?

- forcer la mise à jour des caches avant de modifier les fichiers JS de nouveau

- nettoyage de bbst.xml

- problème des langues
* pas de langue pour http://download.eclipse.org/efxclipse/updates-released/3.0.0/site/

- vérification des liens internes

- la sauvegarde du rapport de liens toutes les 30 secondes ne marche plus

- Chrome indique qu'il n'arrive pas à charger les sourcemaps

- supprimer la directory attic
de plus cela génère des erreurs
                   Thread-3 | 20200416T073001.802 | ERROR | URL ../attic/optimtut1.ps.gz is not checked because the URL is malformed
                   Thread-3 | 20200416T073001.993 | ERROR | URL ../attic/tgr_softwareremodeling.pdf is not checked because the URL is malformed

- private boolean isDataExpected() { //TBD this method is very stupid, we should used a flag instead of computing the status every time

- corriger problème de certificat

- bug dans HTMLGenerator.java, si le fichier XSLT est modifié, la nouvelle version n'est pas prise en compte

- LinkedIn renvoie un HTTP code 999

- problème avec le lien http://marie.desplats.free.fr/diagora_home_page.html

- Tester robot.txt avec https://www.google.com/webmasters/tools/robots-testing-tool

- Ajouter la détection des malwares

- Ajouter la règle sur les URLs qui apparaissent plusieurs fois

- Accelérer la création des fichier JSON (en extrayant les données de chaque fichier à la modification de celui-ci, en mettant cela dans un fichier de résumé et en ayant la création des JSON qui ne fasse que consolider ces fichiers)

- mettre un tooltip sur les expand/contract

- remplacer les
<script language="JavaScript" src="../scripts/common.js"></script>
par
<script src="../scripts/common.js"  type="module"></script>

- corriger le support des MIDDLENAMEs multiples (Boyter dans links/humor.xml)

- persons.xml :
corriger les liens cassés
restructurer la page pour séparer
* homepage
* twitter
* LinkedIn
* Wikipedia
* Wikipédia

- tronquer les URLs trop longs dans les tables de contenu

- rendre le tri des articles complétement défini et mettre une assertion pour crasher s'il ne l'est pas
* titre
* sous-titre
* date
* premier auteur
